<!DOCTYPE html>
<html lang="en">

<head>
    <title>Hospitalization Request Form</title>
    <link href="style.css" type="text/css" rel="stylesheet">
    <meta charset="UTF-8">
</head>

<body>
    <!-- title and subtitle -->
    <!-- Use a semantic block for the first section, and add both a heading (h1) and a paragraph (p) in it-->
    <header>
        <h1>Hospitalization Request Form (Covid-19)</h1> 
        <p>Due to limited hospital capacity, we are kindly asking all the patients who require hospitalization to fill out this form and submit it for assessment. 
            Priority will be given to the patients with severe symptoms. One of our staffs will reach out to you once we process your request.
            If you have any difficulties submitting the form, please call or email our administration office. <br> If you require immediate medical attention, please call 911 or our emergency room directly.</p>
    </header>
    
    <!--Form to be Filled: add a FORM tag with at least the action and method, and optionally class and id so you can use them later -->
    <form class="Assessment" action="mailto:jangbelina@gmail.com" method="post" enctype="text/plain" id="Form">
        <demographic>
        <fieldset><legend>Personal Information</legend>
            <demoq><label for="first-name">First Name:</label>
            <input name="First name" id="first-name" type="text" placeholder="eg: Michael">
            </demoq><br>

            <demoq><label for="last-name">Last Name:</label>
            <input name="Last name" id="last-name" type="text" placeholder="eg: Smith">
            </demoq><br>

            <demoq><label for="phone-number">Phone number:</label>
            <input name="Phone number" id="phone-number" type="text" placeholder="eg: 123-456-7890">
            </demoq><br>    

            <demoq><label for="DOB">Date of Birth:</label>
            <input name="DOB" id="DOB" type="date" onchange="ageCalculator()">
            </demoq><br>

            <demoq><label for="age">Age: </label>
            <p id="age"></p>
            </demoq><br>

            <demoq><label for="gender">Gender: </label>
            <select name="Gender" id="gender">
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
            </select>
            </demoq><br>
            
            <demoq><label for="height">Height: </label>
            <input name="Height (cm)" id="height" type="number"> cm
            </demoq><br>
            
            <demoq><label for="weight">Weight: </label>
            <input name="Weight (kg)" id="weight" type="number"> kg
            </demoq><br>

            <demoq><span>Have you ever been to our clinic: </span>
            <input type="radio" name="Existing patient" id="patientY" value="Yes"><label for="patientY">Yes</label>
            <input type="radio" name="Existing patient" id="patientN" value="No"><label for="patientN">No</label>
            </demoq>
        </fieldset>
        </demographic>

        <medical>
        <fieldset><legend>Medical Information</legend>
            <mediq><label for="allergy">List ANY allergies you have (separated by comma ","): </label>
            <br>
            <input name="Allergy" id="allergy" type="text" placeholder="eg: penicillin, peanuts">
            </mediq><br>

            <mediq>
                <span>How many does of covid vaccinations have you received?</span>
                <input type="radio" name="Covid Vaccination (#doses)" id="option1" value="0"><label for="option1">None</label>
                <input type="radio" name="Covid Vaccination (#doses)" id="option2" value="1"><label for="option2">1</label>
                <input type="radio" name="Covid Vaccination (#doses)" id="option3" value="2"><label for="option3">2</label>
                <input type="radio" name="Covid Vaccination (#doses)" id="option4" value="3"><label for="option4">3</label>
                <input type="radio" name="Covid Vaccination (#doses)" id="option5" value="4+"><label for="option5">4+</label>
                <br>
            </mediq>

            <section class="symptoms">
                <p>Describe any symptoms that you are currently experiencing: </p>

                <!-- symptom 1 -->
                <mediq><span>Difficulty breathing</span>
                <input type="radio" name="Difficulty breathing" id="option1-1" value="None"><label for="option1-1">None</label>
                <input type="radio" name="Difficulty breathing" id="option1-2" value="Mild"><label for="option1-2">Mild</label>
                <input type="radio" name="Difficulty breathing" id="option1-3" value="Moderate"><label for="option1-3">Moderate</label>
                <input type="radio" name="Difficulty breathing" id="option1-4" value="Severe"><label for="option1-4">Severe</label>
                <input type="radio" name="Difficulty breathing" id="option1-5" value="Very severe"><label for="option1-5">Very severe</label>
                </mediq><br>
                
                <!-- symptom 2 -->
                <mediq><span>Chest pain</span>
                <input type="radio" name="Chest pain" id="option2-1" value="None"><label for="option2-1">None</label>
                <input type="radio" name="Chest pain" id="option2-2" value="Mild"><label for="option2-2">Mild</label>
                <input type="radio" name="Chest pain" id="option2-3" value="Moderate"><label for="option2-3">Moderate</label>
                <input type="radio" name="Chest pain" id="option2-4" value="Severe"><label for="option2-4">Severe</label>
                <input type="radio" name="Chest pain" id="option2-5" value="Very severe"><label for="option2-5">Very severe</label>
                </mediq><br>

                <!-- symptom 3 -->
                <mediq><span>Sore throat</span>
                <input type="radio" name="Sore throat" id="option3-1" value="None"><label for="option3-1">None</label>
                <input type="radio" name="Sore throat" id="option3-2" value="Mild"><label for="option3-2">Mild</label>
                <input type="radio" name="Sore throat" id="option3-3" value="Moderate"><label for="option3-3">Moderate</label>
                <input type="radio" name="Sore throat" id="option3-4" value="Severe"><label for="option3-4">Severe</label>
                <input type="radio" name="Sore throat" id="option3-5" value="Very severe"><label for="option3-5">Very severe</label>
                </mediq><br>
                
                <!-- symptom 4 -->
                <mediq><span>Cough</span>
                <input type="radio" name="Cough" id="option4-1" value="None"><label for="option4-1">None</label>
                <input type="radio" name="Cough" id="option4-2" value="Mild"><label for="option4-2">Mild</label>
                <input type="radio" name="Cough" id="option4-3" value="Moderate"><label for="option4-3">Moderate</label>
                <input type="radio" name="Cough" id="option4-4" value="Severe"><label for="option4-4">Severe</label>
                <input type="radio" name="Cough" id="option4-5" value="Very severe"><label for="option4-5">Very severe</label>
                </mediq><br>
                
                <!-- symptom 5 -->
                <mediq><span>Tiredness</span>
                <input type="radio" name="Tiredness" id="option5-1" value="None"><label for="option5-1">None</label>
                <input type="radio" name="Tiredness" id="option5-2" value="Mild"><label for="option5-2">Mild</label>
                <input type="radio" name="Tiredness" id="option5-3" value="Moderate"><label for="option5-3">Moderate</label>
                <input type="radio" name="Tiredness" id="option5-4" value="Severe"><label for="option5-4">Severe</label>
                <input type="radio" name="Tiredness" id="option5-5" value="Very severe"><label for="option5-5">Very severe</label>
                </mediq><br>

                <!-- symptom 6 -->
                <mediq><span>Muscle aches / joint pain</span>
                <input type="radio" name="Muscle aches/joint pain" id="option6-1" value="None"><label for="option6-1">None</label>
                <input type="radio" name="Muscle aches/joint pain" id="option6-2" value="Mild"><label for="option6-2">Mild</label>
                <input type="radio" name="Muscle aches/joint pain" id="option6-3" value="Moderate"><label for="option6-3">Moderate</label>
                <input type="radio" name="Muscle aches/joint pain" id="option6-4" value="Severe"><label for="option6-4">Severe</label>
                <input type="radio" name="Muscle aches/joint pain" id="option6-5" value="Very severe"><label for="option6-5">Very severe</label>
                </mediq><br>
            </section>
        </fieldset>
        </medical>

        <signoff>
        <fieldset>
            <legend>Sign-off for Submission</legend>

            <div class="signoff_inline">
                <label for="sign">Digital signature:</label>
                <input name="Digital signature" id="sign" type="text" placeholder="eg: Michael Smith">
            </div><div class="signoff_inline">
                <label for="today">Date: </label>
                <input name="Signed date" id="today" type="date" name="date">
            </div><div>
                <label for="doctor">Select your doctor: </label>
                <select name="Doctor" id="doctor">
                    <option value="Marten Joe">Marten Joe</option>
                    <option value="Phoebe Li">Phoebe Li</option>
                </select>
            </div>            
        </fieldset>
        </signoff>

        <input type="submit" class="blockcenter">
    </form>
    <!-- End the FORM -->

    <script type="text/javascript">

        document.getElementById("today").valueAsDate = new Date();

        document.getElementById("Form").addEventListener("submit", function(){
            let firstname = document.getElementById("first-name").value;
            let lastname = document.getElementById("last-name").value;
		    alert("Thank you, " + firstname + " " + lastname+ ". Your form has been submitted");
		});

        function ageCalculator() {
            let age = 0;
            let dob = document.getElementById("DOB").value;
            let dob_year = dob.slice(0, 4);
            let dob_month = dob.slice(5, 7);
            let dob_date = dob.slice(8, 10);
            console.log(dob_year, dob_month, dob_date);

            let current = new Date();
            current = JSON.stringify(current);
            console.log(current);
            let current_year = current.slice(1, 5);
            let current_month = current.slice(6, 8);
            let current_date = current.slice(9, 11);
            console.log(current_year, current_month, current_date);

            if (current_month >= dob_month) {
                if ((current_month == dob_month) && (current_date < dob_date)) {
                age = current_year - dob_year - 1;
                } else {
                age = current_year - dob_year;
                }
            } else {//birth month bigger than current month
                age = current_year - dob_year - 1;
            }

            //display the calculated age in html
            document.getElementById("age").innerHTML = age + " years old";
        }
    </script> 
</body>
</html>